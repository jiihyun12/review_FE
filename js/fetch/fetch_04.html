<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fetch04</title>
    <link rel="styleSheet" href="../../style/fetch_04.css">
</head>
<body>
    <div id="container"></div>
</body>
<script>
    async function fetchData() {
        const response = await fetch("https://jsonplaceholder.typicode.com/posts")
        const datas = await response.json()
        datas.slice(0,10).map((items) => {
            const card = document.createElement("div")
            card.classList.add("card")
            document.querySelector("#container").appendChild(card)

            const id = document.createElement("p")
            id.innerText = `아이디 : ${items.id}`
            card.appendChild(id)

            const title = document.createElement("p")
            title.innerText = `제목 : ${items.title}`
            card.appendChild(title)

            const delBtn = document.createElement("button")
            delBtn.innerText = "삭제"
            card.appendChild(delBtn)

            const addBtn = document.createElement("button")
            addBtn.innerText = "추가"
            card.appendChild(addBtn)

            if(items.id > 5){
                card.classList.add("warning-red")
            }

            delBtn.addEventListener("click", () => {
                card.remove()
            })

            addBtn.addEventListener("click", () => {
                const newCard = card.cloneNode(true)
                document.querySelector("#container").appendChild(newCard)
            })
        })
    }
    fetchData()
</script>
</html>